ARM GAS  /tmp/ccks7yye.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.section	.text.startup.main,"ax",%progbits
  13              		.align	1
  14              		.global	main
  15              		.syntax unified
  16              		.thumb
  17              		.thumb_func
  18              		.fpu softvfp
  20              	main:
  21              		@ args = 0, pretend = 0, frame = 0
  22              		@ frame_needed = 0, uses_anonymous_args = 0
  23 0000 30B5     		push	{r4, r5, lr}
  24 0002 4C4C     		ldr	r4, .L3
  25 0004 85B0     		sub	sp, sp, #20
  26 0006 FFF7FEFF 		bl	HAL_Init
  27 000a FFF7FEFF 		bl	SYS_Clock_Init
  28 000e FFF7FEFF 		bl	SYS_GPIO_Init
  29 0012 FFF7FEFF 		bl	SYS_DMA_Init
  30 0016 FFF7FEFF 		bl	SYS_Init
  31 001a FFF7FEFF 		bl	SYS_I2C_Init
  32 001e FFF7FEFF 		bl	SYS_USART_Init
  33 0022 2068     		ldr	r0, [r4]
  34 0024 FFF7FEFF 		bl	CONSOLE_Init
  35 0028 FFF7FEFF 		bl	SYS_Timer_Init
  36 002c FFF7FEFF 		bl	SYS_PostPortInit
  37 0030 FFF7FEFF 		bl	CONSOLE_ClearScreen
  38 0034 4048     		ldr	r0, .L3+4
  39 0036 FFF7FEFF 		bl	CONSOLE_PrintLn
  40 003a 4048     		ldr	r0, .L3+8
  41 003c FFF7FEFF 		bl	CONSOLE_PrintLn
  42 0040 3F48     		ldr	r0, .L3+12
  43 0042 FFF7FEFF 		bl	CONSOLE_PrintLn
  44 0046 3F48     		ldr	r0, .L3+16
  45 0048 FFF7FEFF 		bl	CONSOLE_PrintLn
  46 004c 3E48     		ldr	r0, .L3+20
  47 004e FFF7FEFF 		bl	CONSOLE_PrintLn
  48 0052 3E48     		ldr	r0, .L3+24
  49 0054 FFF7FEFF 		bl	CONSOLE_PrintLn
  50 0058 0123     		movs	r3, #1
  51 005a 0021     		movs	r1, #0
  52 005c 1A46     		mov	r2, r3
  53 005e 3C48     		ldr	r0, .L3+28
  54 0060 FFF7FEFF 		bl	CONSOLE_PrintLn
  55 0064 3B48     		ldr	r0, .L3+32
  56 0066 FFF7FEFF 		bl	CONSOLE_Print
  57 006a 3B48     		ldr	r0, .L3+36
  58 006c FFF7FEFF 		bl	CONSOLE_PrintLn
ARM GAS  /tmp/ccks7yye.s 			page 2


  59 0070 FFF7FEFF 		bl	SYS_USB_Init
  60 0074 3948     		ldr	r0, .L3+40
  61 0076 FFF7FEFF 		bl	CONSOLE_PrintLn
  62 007a FFF7FEFF 		bl	SYS_PCA9555_Init
  63 007e FFF7FEFF 		bl	SYS_WS2812_Init
  64 0082 FFF7FEFF 		bl	LIB_Infinikeys_Init
  65 0086 FFF7FEFF 		bl	SYS_PostLibInit
  66 008a 0A23     		movs	r3, #10
  67 008c 2F22     		movs	r2, #47
  68 008e 3449     		ldr	r1, .L3+44
  69 0090 2068     		ldr	r0, [r4]
  70 0092 FFF7FEFF 		bl	HAL_UART_Transmit
  71 0096 FFF7FEFF 		bl	SYS_HWB_Read
  72 009a 2820     		movs	r0, #40
  73 009c FFF7FEFF 		bl	malloc
  74 00a0 304B     		ldr	r3, .L3+48
  75 00a2 3149     		ldr	r1, .L3+52
  76 00a4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  77 00a6 0546     		mov	r5, r0
  78 00a8 C2F30013 		ubfx	r3, r2, #4, #1
  79 00ac 0293     		str	r3, [sp, #8]
  80 00ae C2F3C003 		ubfx	r3, r2, #3, #1
  81 00b2 0193     		str	r3, [sp, #4]
  82 00b4 C2F38003 		ubfx	r3, r2, #2, #1
  83 00b8 0093     		str	r3, [sp]
  84 00ba C2F34003 		ubfx	r3, r2, #1, #1
  85 00be 02F00102 		and	r2, r2, #1
  86 00c2 FFF7FEFF 		bl	sprintf
  87 00c6 0A23     		movs	r3, #10
  88 00c8 C2B2     		uxtb	r2, r0
  89 00ca 2946     		mov	r1, r5
  90 00cc 2068     		ldr	r0, [r4]
  91 00ce 274C     		ldr	r4, .L3+56
  92 00d0 FFF7FEFF 		bl	HAL_UART_Transmit
  93 00d4 2846     		mov	r0, r5
  94 00d6 FFF7FEFF 		bl	free
  95 00da 2068     		ldr	r0, [r4]
  96 00dc FFF7FEFF 		bl	NP32_ClearAllLEDs
  97 00e0 2068     		ldr	r0, [r4]
  98 00e2 FFF7FEFF 		bl	NP32_Update
  99 00e6 0022     		movs	r2, #0
 100 00e8 214C     		ldr	r4, .L3+60
 101 00ea 1146     		mov	r1, r2
 102 00ec 2068     		ldr	r0, [r4]
 103 00ee FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 104 00f2 2068     		ldr	r0, [r4]
 105 00f4 0022     		movs	r2, #0
 106 00f6 0121     		movs	r1, #1
 107 00f8 FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 108 00fc 0022     		movs	r2, #0
 109 00fe 1D4C     		ldr	r4, .L3+64
 110 0100 1146     		mov	r1, r2
 111 0102 2068     		ldr	r0, [r4]
 112 0104 FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 113 0108 2068     		ldr	r0, [r4]
 114 010a 0022     		movs	r2, #0
 115 010c 0121     		movs	r1, #1
ARM GAS  /tmp/ccks7yye.s 			page 3


 116 010e FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 117 0112 0024     		movs	r4, #0
 118 0114 184D     		ldr	r5, .L3+68
 119              	.L2:
 120 0116 6420     		movs	r0, #100
 121 0118 84F00104 		eor	r4, r4, #1
 122 011c FFF7FEFF 		bl	HAL_Delay
 123 0120 2246     		mov	r2, r4
 124 0122 0121     		movs	r1, #1
 125 0124 2846     		mov	r0, r5
 126 0126 FFF7FEFF 		bl	HAL_GPIO_WritePin
 127 012a FFF7FEFF 		bl	IK_Tick
 128 012e FFF7FEFF 		bl	IK_USB_HW_SOFCallback
 129 0132 F0E7     		b	.L2
 130              	.L4:
 131              		.align	2
 132              	.L3:
 133 0134 00000000 		.word	hw_uart1_handle
 134 0138 00000000 		.word	.LC0
 135 013c 50000000 		.word	.LC1
 136 0140 A0000000 		.word	.LC2
 137 0144 F0000000 		.word	.LC3
 138 0148 40010000 		.word	.LC4
 139 014c 90010000 		.word	.LC5
 140 0150 E0010000 		.word	.LC6
 141 0154 03020000 		.word	.LC7
 142 0158 05020000 		.word	.LC8
 143 015c 1F020000 		.word	.LC9
 144 0160 3F020000 		.word	.LC10
 145 0164 00000000 		.word	sys_hwbyte
 146 0168 6F020000 		.word	.LC11
 147 016c 00000000 		.word	hw_ws2812_handle
 148 0170 00000000 		.word	hw_portex0_handle
 149 0174 00000000 		.word	hw_portex1_handle
 150 0178 000C0140 		.word	1073810432
 152              		.section	.text.HAL_MspInit,"ax",%progbits
 153              		.align	1
 154              		.global	HAL_MspInit
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu softvfp
 160              	HAL_MspInit:
 161              		@ args = 0, pretend = 0, frame = 8
 162              		@ frame_needed = 0, uses_anonymous_args = 0
 163              		@ link register save eliminated.
 164 0000 0A4B     		ldr	r3, .L6
 165 0002 82B0     		sub	sp, sp, #8
 166 0004 9A69     		ldr	r2, [r3, #24]
 167 0006 42F00102 		orr	r2, r2, #1
 168 000a 9A61     		str	r2, [r3, #24]
 169 000c 9A69     		ldr	r2, [r3, #24]
 170 000e 02F00102 		and	r2, r2, #1
 171 0012 0092     		str	r2, [sp]
 172 0014 009A     		ldr	r2, [sp]
 173 0016 DA69     		ldr	r2, [r3, #28]
 174 0018 42F08052 		orr	r2, r2, #268435456
ARM GAS  /tmp/ccks7yye.s 			page 4


 175 001c DA61     		str	r2, [r3, #28]
 176 001e DB69     		ldr	r3, [r3, #28]
 177 0020 03F08053 		and	r3, r3, #268435456
 178 0024 0193     		str	r3, [sp, #4]
 179 0026 019B     		ldr	r3, [sp, #4]
 180 0028 02B0     		add	sp, sp, #8
 181              		@ sp needed
 182 002a 7047     		bx	lr
 183              	.L7:
 184              		.align	2
 185              	.L6:
 186 002c 00100240 		.word	1073876992
 188              		.section	.rodata.main.str1.1,"aMS",%progbits,1
 189              	.LC0:
 190 0000 2020205F 		.ascii	"   ___                     _                       "
 190      5F5F2020 
 190      20202020 
 190      20202020 
 190      20202020 
 191 0033 5F202020 		.ascii	"_                         _ \000"
 191      20202020 
 191      20202020 
 191      20202020 
 191      20202020 
 192              	.LC1:
 193 0050 20202F20 		.ascii	"  / __\\ ___ _ __ _ __   __| | ___   /\\ /\\___ _  "
 193      5F5F5C20 
 193      5F5F5F20 
 193      5F205F5F 
 193      205F205F 
 194 0080 205F7C20 		.ascii	" _| |__   ___   __ _ _ __ __| |\000"
 194      7C5F5F20 
 194      20205F5F 
 194      5F202020 
 194      5F5F205F 
 195              	.LC2:
 196 00a0 202F5F5F 		.ascii	" /__\\/// _ \\ '__| '_ \\ / _` |/ _ \\ / //_/ _ \\ "
 196      5C2F2F2F 
 196      205F205C 
 196      20275F5F 
 196      7C20275F 
 197 00ce 7C207C20 		.ascii	"| | | '_ \\ / _ \\ / _` | '__/ _` |\000"
 197      7C20275F 
 197      205C202F 
 197      205F205C 
 197      202F205F 
 198              	.LC3:
 199 00f0 2F205C2F 		.ascii	"/ \\/  \\  __/ |  | | | | (_| | (_) / __ \\  __/ |_"
 199      20205C20 
 199      205F5F2F 
 199      207C2020 
 199      7C207C20 
 200 0120 7C207C20 		.ascii	"| | |_) | (_) | (_| | | | (_| |\000"
 200      7C5F2920 
 200      7C20285F 
 200      29207C20 
 200      285F7C20 
ARM GAS  /tmp/ccks7yye.s 			page 5


 201              	.LC4:
 202 0140 5C5F5F5F 		.ascii	"\\_____/\\___|_|  |_| |_|\\__,_|\\___/\\/  \\/\\___"
 202      5F5F2F5C 
 202      5F5F5F7C 
 202      5F7C2020 
 202      7C5F7C20 
 203 016c 7C5C5F5F 		.ascii	"|\\__, |_.__/ \\___/ \\__,_|_|  \\__,_|\000"
 203      2C207C5F 
 203      2E5F5F2F 
 203      205C5F5F 
 203      5F2F205C 
 204              	.LC5:
 205 0190 20202020 		.ascii	"                                             |___/ "
 205      20202020 
 205      20202020 
 205      20202020 
 205      20202020 
 206 01c3 20202020 		.ascii	"                            \000"
 206      20202020 
 206      20202020 
 206      20202020 
 206      20202020 
 207              	.LC6:
 208 01e0 4265726E 		.ascii	"BerndoKeyboard Firmware v%i.%i.%i.\000"
 208      646F4B65 
 208      79626F61 
 208      72642046 
 208      69726D77 
 209              	.LC7:
 210 0203 0A00     		.ascii	"\012\000"
 211              	.LC8:
 212 0205 5B424B46 		.ascii	"[BKF] Initialising USB...\000"
 212      5D20496E 
 212      69746961 
 212      6C697369 
 212      6E672055 
 213              	.LC9:
 214 021f 5B424B46 		.ascii	"[BKF] Initialising libraries...\000"
 214      5D20496E 
 214      69746961 
 214      6C697369 
 214      6E67206C 
 215              	.LC10:
 216 023f 5B424B46 		.ascii	"[BKF] System init complete. Starting firmware.\012\000"
 216      5D205379 
 216      7374656D 
 216      20696E69 
 216      7420636F 
 217              	.LC11:
 218 026f 5B424B46 		.ascii	"[BKF] Read hwbits: [%d][%d][%d][%d][%d]\012\000"
 218      5D205265 
 218      61642068 
 218      77626974 
 218      733A205B 
 219              		.ident	"GCC: (15:6.3.1+svn253039-1build1) 6.3.1 20170620"
ARM GAS  /tmp/ccks7yye.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccks7yye.s:13     .text.startup.main:0000000000000000 $t
     /tmp/ccks7yye.s:20     .text.startup.main:0000000000000000 main
     /tmp/ccks7yye.s:133    .text.startup.main:0000000000000134 $d
     /tmp/ccks7yye.s:153    .text.HAL_MspInit:0000000000000000 $t
     /tmp/ccks7yye.s:160    .text.HAL_MspInit:0000000000000000 HAL_MspInit
     /tmp/ccks7yye.s:186    .text.HAL_MspInit:000000000000002c $d

UNDEFINED SYMBOLS
HAL_Init
SYS_Clock_Init
SYS_GPIO_Init
SYS_DMA_Init
SYS_Init
SYS_I2C_Init
SYS_USART_Init
CONSOLE_Init
SYS_Timer_Init
SYS_PostPortInit
CONSOLE_ClearScreen
CONSOLE_PrintLn
CONSOLE_Print
SYS_USB_Init
SYS_PCA9555_Init
SYS_WS2812_Init
LIB_Infinikeys_Init
SYS_PostLibInit
HAL_UART_Transmit
SYS_HWB_Read
malloc
sprintf
free
NP32_ClearAllLEDs
NP32_Update
PCA9555_ConfigPortPinMode
HAL_Delay
HAL_GPIO_WritePin
IK_Tick
IK_USB_HW_SOFCallback
hw_uart1_handle
sys_hwbyte
hw_ws2812_handle
hw_portex0_handle
hw_portex1_handle
