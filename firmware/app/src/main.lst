ARM GAS  /tmp/ccAS7pkh.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              		.section	.rodata.main.str1.1,"aMS",%progbits,1
  14              	.LC0:
  15 0000 2020205F 		.ascii	"   ___                     _                       "
  15      5F5F2020 
  15      20202020 
  15      20202020 
  15      20202020 
  16 0033 5F202020 		.ascii	"_                         _ \000"
  16      20202020 
  16      20202020 
  16      20202020 
  16      20202020 
  17              	.LC1:
  18 0050 20202F20 		.ascii	"  / __\\ ___ _ __ _ __   __| | ___   /\\ /\\___ _  "
  18      5F5F5C20 
  18      5F5F5F20 
  18      5F205F5F 
  18      205F205F 
  19 0080 205F7C20 		.ascii	" _| |__   ___   __ _ _ __ __| |\000"
  19      7C5F5F20 
  19      20205F5F 
  19      5F202020 
  19      5F5F205F 
  20              	.LC2:
  21 00a0 202F5F5F 		.ascii	" /__\\/// _ \\ '__| '_ \\ / _` |/ _ \\ / //_/ _ \\ "
  21      5C2F2F2F 
  21      205F205C 
  21      20275F5F 
  21      7C20275F 
  22 00ce 7C207C20 		.ascii	"| | | '_ \\ / _ \\ / _` | '__/ _` |\000"
  22      7C20275F 
  22      205C202F 
  22      205F205C 
  22      202F205F 
  23              	.LC3:
  24 00f0 2F205C2F 		.ascii	"/ \\/  \\  __/ |  | | | | (_| | (_) / __ \\  __/ |_"
  24      20205C20 
  24      205F5F2F 
  24      207C2020 
  24      7C207C20 
  25 0120 7C207C20 		.ascii	"| | |_) | (_) | (_| | | | (_| |\000"
  25      7C5F2920 
  25      7C20285F 
  25      29207C20 
  25      285F7C20 
ARM GAS  /tmp/ccAS7pkh.s 			page 2


  26              	.LC4:
  27 0140 5C5F5F5F 		.ascii	"\\_____/\\___|_|  |_| |_|\\__,_|\\___/\\/  \\/\\___"
  27      5F5F2F5C 
  27      5F5F5F7C 
  27      5F7C2020 
  27      7C5F7C20 
  28 016c 7C5C5F5F 		.ascii	"|\\__, |_.__/ \\___/ \\__,_|_|  \\__,_|\000"
  28      2C207C5F 
  28      2E5F5F2F 
  28      205C5F5F 
  28      5F2F205C 
  29              	.LC5:
  30 0190 20202020 		.ascii	"                                             |___/ "
  30      20202020 
  30      20202020 
  30      20202020 
  30      20202020 
  31 01c3 20202020 		.ascii	"                            \000"
  31      20202020 
  31      20202020 
  31      20202020 
  31      20202020 
  32              	.LC6:
  33 01e0 4265726E 		.ascii	"BerndoKeyboard Firmware v%i.%i.%i.\000"
  33      646F4B65 
  33      79626F61 
  33      72642046 
  33      69726D77 
  34              	.LC7:
  35 0203 0A00     		.ascii	"\012\000"
  36              	.LC8:
  37 0205 5B424B46 		.ascii	"[BKF] Initialising USB...\000"
  37      5D20496E 
  37      69746961 
  37      6C697369 
  37      6E672055 
  38              	.LC9:
  39 021f 5B424B46 		.ascii	"[BKF] Initialising libraries...\000"
  39      5D20496E 
  39      69746961 
  39      6C697369 
  39      6E67206C 
  40              	.LC10:
  41 023f 5B424B46 		.ascii	"[BKF] System init complete. Starting firmware.\012\000"
  41      5D205379 
  41      7374656D 
  41      20696E69 
  41      7420636F 
  42              	.LC11:
  43 026f 5B424B46 		.ascii	"[BKF] Read hwbits: [%d][%d][%d][%d][%d]\012\000"
  43      5D205265 
  43      61642068 
  43      77626974 
  43      733A205B 
  44              		.section	.text.startup.main,"ax",%progbits
  45              		.align	1
  46              		.global	main
ARM GAS  /tmp/ccAS7pkh.s 			page 3


  47              		.arch armv7-m
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  51              		.fpu softvfp
  53              	main:
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 0, uses_anonymous_args = 0
  56 0000 30B5     		push	{r4, r5, lr}
  57 0002 4C4D     		ldr	r5, .L3
  58 0004 85B0     		sub	sp, sp, #20
  59 0006 FFF7FEFF 		bl	HAL_Init
  60 000a FFF7FEFF 		bl	SYS_Clock_Init
  61 000e FFF7FEFF 		bl	SYS_GPIO_Init
  62 0012 FFF7FEFF 		bl	SYS_DMA_Init
  63 0016 FFF7FEFF 		bl	SYS_Init
  64 001a FFF7FEFF 		bl	SYS_I2C_Init
  65 001e FFF7FEFF 		bl	SYS_USART_Init
  66 0022 2868     		ldr	r0, [r5]
  67 0024 FFF7FEFF 		bl	CONSOLE_Init
  68 0028 FFF7FEFF 		bl	SYS_Timer_Init
  69 002c FFF7FEFF 		bl	SYS_PostPortInit
  70 0030 FFF7FEFF 		bl	CONSOLE_ClearScreen
  71 0034 4048     		ldr	r0, .L3+4
  72 0036 FFF7FEFF 		bl	CONSOLE_PrintLn
  73 003a 4048     		ldr	r0, .L3+8
  74 003c FFF7FEFF 		bl	CONSOLE_PrintLn
  75 0040 3F48     		ldr	r0, .L3+12
  76 0042 FFF7FEFF 		bl	CONSOLE_PrintLn
  77 0046 3F48     		ldr	r0, .L3+16
  78 0048 FFF7FEFF 		bl	CONSOLE_PrintLn
  79 004c 3E48     		ldr	r0, .L3+20
  80 004e FFF7FEFF 		bl	CONSOLE_PrintLn
  81 0052 3E48     		ldr	r0, .L3+24
  82 0054 FFF7FEFF 		bl	CONSOLE_PrintLn
  83 0058 0123     		movs	r3, #1
  84 005a 0021     		movs	r1, #0
  85 005c 1A46     		mov	r2, r3
  86 005e 3C48     		ldr	r0, .L3+28
  87 0060 FFF7FEFF 		bl	CONSOLE_PrintLn
  88 0064 3B48     		ldr	r0, .L3+32
  89 0066 FFF7FEFF 		bl	CONSOLE_Print
  90 006a 3B48     		ldr	r0, .L3+36
  91 006c FFF7FEFF 		bl	CONSOLE_PrintLn
  92 0070 FFF7FEFF 		bl	SYS_USB_Init
  93 0074 3948     		ldr	r0, .L3+40
  94 0076 FFF7FEFF 		bl	CONSOLE_PrintLn
  95 007a FFF7FEFF 		bl	SYS_PCA9555_Init
  96 007e FFF7FEFF 		bl	SYS_WS2812_Init
  97 0082 FFF7FEFF 		bl	LIB_Infinikeys_Init
  98 0086 FFF7FEFF 		bl	SYS_PostLibInit
  99 008a 0A23     		movs	r3, #10
 100 008c 2F22     		movs	r2, #47
 101 008e 3449     		ldr	r1, .L3+44
 102 0090 2868     		ldr	r0, [r5]
 103 0092 FFF7FEFF 		bl	HAL_UART_Transmit
 104 0096 FFF7FEFF 		bl	SYS_HWB_Read
ARM GAS  /tmp/ccAS7pkh.s 			page 4


 105 009a 2820     		movs	r0, #40
 106 009c FFF7FEFF 		bl	malloc
 107 00a0 0446     		mov	r4, r0
 108 00a2 304B     		ldr	r3, .L3+48
 109 00a4 3049     		ldr	r1, .L3+52
 110 00a6 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 111 00a8 C2F30013 		ubfx	r3, r2, #4, #1
 112 00ac 0293     		str	r3, [sp, #8]
 113 00ae C2F3C003 		ubfx	r3, r2, #3, #1
 114 00b2 0193     		str	r3, [sp, #4]
 115 00b4 C2F38003 		ubfx	r3, r2, #2, #1
 116 00b8 0093     		str	r3, [sp]
 117 00ba C2F34003 		ubfx	r3, r2, #1, #1
 118 00be 02F00102 		and	r2, r2, #1
 119 00c2 FFF7FEFF 		bl	sprintf
 120 00c6 0A23     		movs	r3, #10
 121 00c8 2146     		mov	r1, r4
 122 00ca 2322     		movs	r2, #35
 123 00cc 2868     		ldr	r0, [r5]
 124 00ce FFF7FEFF 		bl	HAL_UART_Transmit
 125 00d2 2046     		mov	r0, r4
 126 00d4 254C     		ldr	r4, .L3+56
 127 00d6 FFF7FEFF 		bl	free
 128 00da 2068     		ldr	r0, [r4]
 129 00dc FFF7FEFF 		bl	NP32_ClearAllLEDs
 130 00e0 2068     		ldr	r0, [r4]
 131 00e2 FFF7FEFF 		bl	NP32_Update
 132 00e6 0022     		movs	r2, #0
 133 00e8 214C     		ldr	r4, .L3+60
 134 00ea 1146     		mov	r1, r2
 135 00ec 2068     		ldr	r0, [r4]
 136 00ee FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 137 00f2 2068     		ldr	r0, [r4]
 138 00f4 0022     		movs	r2, #0
 139 00f6 0121     		movs	r1, #1
 140 00f8 FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 141 00fc 0022     		movs	r2, #0
 142 00fe 1D4C     		ldr	r4, .L3+64
 143 0100 1146     		mov	r1, r2
 144 0102 2068     		ldr	r0, [r4]
 145 0104 FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 146 0108 2068     		ldr	r0, [r4]
 147 010a 0022     		movs	r2, #0
 148 010c 0121     		movs	r1, #1
 149 010e FFF7FEFF 		bl	PCA9555_ConfigPortPinMode
 150 0112 0024     		movs	r4, #0
 151 0114 184D     		ldr	r5, .L3+68
 152              	.L2:
 153 0116 6420     		movs	r0, #100
 154 0118 84F00104 		eor	r4, r4, #1
 155 011c FFF7FEFF 		bl	HAL_Delay
 156 0120 2246     		mov	r2, r4
 157 0122 0121     		movs	r1, #1
 158 0124 2846     		mov	r0, r5
 159 0126 FFF7FEFF 		bl	HAL_GPIO_WritePin
 160 012a FFF7FEFF 		bl	IK_Tick
 161 012e FFF7FEFF 		bl	IK_USB_HW_SOFCallback
ARM GAS  /tmp/ccAS7pkh.s 			page 5


 162 0132 F0E7     		b	.L2
 163              	.L4:
 164              		.align	2
 165              	.L3:
 166 0134 00000000 		.word	hw_uart1_handle
 167 0138 00000000 		.word	.LC0
 168 013c 50000000 		.word	.LC1
 169 0140 A0000000 		.word	.LC2
 170 0144 F0000000 		.word	.LC3
 171 0148 40010000 		.word	.LC4
 172 014c 90010000 		.word	.LC5
 173 0150 E0010000 		.word	.LC6
 174 0154 03020000 		.word	.LC7
 175 0158 05020000 		.word	.LC8
 176 015c 1F020000 		.word	.LC9
 177 0160 3F020000 		.word	.LC10
 178 0164 00000000 		.word	sys_hwbyte
 179 0168 6F020000 		.word	.LC11
 180 016c 00000000 		.word	hw_ws2812_handle
 181 0170 00000000 		.word	hw_portex0_handle
 182 0174 00000000 		.word	hw_portex1_handle
 183 0178 000C0140 		.word	1073810432
 185              		.section	.text.HAL_MspInit,"ax",%progbits
 186              		.align	1
 187              		.global	HAL_MspInit
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 191              		.fpu softvfp
 193              	HAL_MspInit:
 194              		@ args = 0, pretend = 0, frame = 8
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196              		@ link register save eliminated.
 197 0000 0A4B     		ldr	r3, .L6
 198 0002 82B0     		sub	sp, sp, #8
 199 0004 9A69     		ldr	r2, [r3, #24]
 200 0006 42F00102 		orr	r2, r2, #1
 201 000a 9A61     		str	r2, [r3, #24]
 202 000c 9A69     		ldr	r2, [r3, #24]
 203 000e 02F00102 		and	r2, r2, #1
 204 0012 0092     		str	r2, [sp]
 205 0014 009A     		ldr	r2, [sp]
 206 0016 DA69     		ldr	r2, [r3, #28]
 207 0018 42F08052 		orr	r2, r2, #268435456
 208 001c DA61     		str	r2, [r3, #28]
 209 001e DB69     		ldr	r3, [r3, #28]
 210 0020 03F08053 		and	r3, r3, #268435456
 211 0024 0193     		str	r3, [sp, #4]
 212 0026 019B     		ldr	r3, [sp, #4]
 213 0028 02B0     		add	sp, sp, #8
 214              		@ sp needed
 215 002a 7047     		bx	lr
 216              	.L7:
 217              		.align	2
 218              	.L6:
 219 002c 00100240 		.word	1073876992
 221              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 9-2019-q4-major) 9.2.1 20191025 (release) [ARM
ARM GAS  /tmp/ccAS7pkh.s 			page 6


ARM GAS  /tmp/ccAS7pkh.s 			page 7


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccAS7pkh.s:45     .text.startup.main:0000000000000000 $t
     /tmp/ccAS7pkh.s:53     .text.startup.main:0000000000000000 main
     /tmp/ccAS7pkh.s:166    .text.startup.main:0000000000000134 $d
     /tmp/ccAS7pkh.s:186    .text.HAL_MspInit:0000000000000000 $t
     /tmp/ccAS7pkh.s:193    .text.HAL_MspInit:0000000000000000 HAL_MspInit
     /tmp/ccAS7pkh.s:219    .text.HAL_MspInit:000000000000002c $d

UNDEFINED SYMBOLS
HAL_Init
SYS_Clock_Init
SYS_GPIO_Init
SYS_DMA_Init
SYS_Init
SYS_I2C_Init
SYS_USART_Init
CONSOLE_Init
SYS_Timer_Init
SYS_PostPortInit
CONSOLE_ClearScreen
CONSOLE_PrintLn
CONSOLE_Print
SYS_USB_Init
SYS_PCA9555_Init
SYS_WS2812_Init
LIB_Infinikeys_Init
SYS_PostLibInit
HAL_UART_Transmit
SYS_HWB_Read
malloc
sprintf
free
NP32_ClearAllLEDs
NP32_Update
PCA9555_ConfigPortPinMode
HAL_Delay
HAL_GPIO_WritePin
IK_Tick
IK_USB_HW_SOFCallback
hw_uart1_handle
sys_hwbyte
hw_ws2812_handle
hw_portex0_handle
hw_portex1_handle
