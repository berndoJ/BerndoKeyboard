ARM GAS  /tmp/cc8Tb1Pe.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"console.c"
  12              		.text
  13              		.section	.text.CONSOLE_Init,"ax",%progbits
  14              		.align	1
  15              		.global	CONSOLE_Init
  16              		.arch armv7-m
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	CONSOLE_Init:
  23              		@ args = 0, pretend = 0, frame = 0
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 08B1     		cbz	r0, .L1
  27 0002 014B     		ldr	r3, .L6
  28 0004 1860     		str	r0, [r3]
  29              	.L1:
  30 0006 7047     		bx	lr
  31              	.L7:
  32              		.align	2
  33              	.L6:
  34 0008 00000000 		.word	.LANCHOR0
  36              		.section	.text.CONSOLE_Print,"ax",%progbits
  37              		.align	1
  38              		.global	CONSOLE_Print
  39              		.syntax unified
  40              		.thumb
  41              		.thumb_func
  42              		.fpu softvfp
  44              	CONSOLE_Print:
  45              		@ args = 4, pretend = 16, frame = 8
  46              		@ frame_needed = 0, uses_anonymous_args = 1
  47 0000 0FB4     		push	{r0, r1, r2, r3}
  48 0002 73B5     		push	{r0, r1, r4, r5, r6, lr}
  49 0004 0F4D     		ldr	r5, .L17
  50 0006 069E     		ldr	r6, [sp, #24]
  51 0008 2B68     		ldr	r3, [r5]
  52 000a B3B1     		cbz	r3, .L8
  53 000c 3046     		mov	r0, r6
  54 000e FFF7FEFF 		bl	strlen
  55 0012 00F58070 		add	r0, r0, #256
  56 0016 FFF7FEFF 		bl	malloc
  57 001a 0446     		mov	r4, r0
  58 001c 68B1     		cbz	r0, .L8
  59 001e 07AA     		add	r2, sp, #28
  60 0020 3146     		mov	r1, r6
ARM GAS  /tmp/cc8Tb1Pe.s 			page 2


  61 0022 0192     		str	r2, [sp, #4]
  62 0024 FFF7FEFF 		bl	vsprintf
  63 0028 0A23     		movs	r3, #10
  64 002a 82B2     		uxth	r2, r0
  65 002c 2146     		mov	r1, r4
  66 002e 2868     		ldr	r0, [r5]
  67 0030 FFF7FEFF 		bl	HAL_UART_Transmit
  68 0034 2046     		mov	r0, r4
  69 0036 FFF7FEFF 		bl	free
  70              	.L8:
  71 003a 02B0     		add	sp, sp, #8
  72              		@ sp needed
  73 003c BDE87040 		pop	{r4, r5, r6, lr}
  74 0040 04B0     		add	sp, sp, #16
  75 0042 7047     		bx	lr
  76              	.L18:
  77              		.align	2
  78              	.L17:
  79 0044 00000000 		.word	.LANCHOR0
  81              		.section	.rodata.CONSOLE_PrintLn.str1.1,"aMS",%progbits,1
  82              	.LC0:
  83 0000 0A00     		.ascii	"\012\000"
  84              		.section	.text.CONSOLE_PrintLn,"ax",%progbits
  85              		.align	1
  86              		.global	CONSOLE_PrintLn
  87              		.syntax unified
  88              		.thumb
  89              		.thumb_func
  90              		.fpu softvfp
  92              	CONSOLE_PrintLn:
  93              		@ args = 4, pretend = 16, frame = 8
  94              		@ frame_needed = 0, uses_anonymous_args = 1
  95 0000 0FB4     		push	{r0, r1, r2, r3}
  96 0002 07B5     		push	{r0, r1, r2, lr}
  97 0004 04A9     		add	r1, sp, #16
  98 0006 51F8040B 		ldr	r0, [r1], #4
  99 000a 0191     		str	r1, [sp, #4]
 100 000c FFF7FEFF 		bl	CONSOLE_Print
 101 0010 0348     		ldr	r0, .L20
 102 0012 FFF7FEFF 		bl	CONSOLE_Print
 103 0016 03B0     		add	sp, sp, #12
 104              		@ sp needed
 105 0018 5DF804EB 		ldr	lr, [sp], #4
 106 001c 04B0     		add	sp, sp, #16
 107 001e 7047     		bx	lr
 108              	.L21:
 109              		.align	2
 110              	.L20:
 111 0020 00000000 		.word	.LC0
 113              		.section	.rodata.CONSOLE_ClearScreen.str1.1,"aMS",%progbits,1
 114              	.LC1:
 115 0000 1B5B324A 		.ascii	"\033[2J\033[H\000"
 115      1B5B4800 
 116              		.section	.text.CONSOLE_ClearScreen,"ax",%progbits
 117              		.align	1
 118              		.global	CONSOLE_ClearScreen
 119              		.syntax unified
ARM GAS  /tmp/cc8Tb1Pe.s 			page 3


 120              		.thumb
 121              		.thumb_func
 122              		.fpu softvfp
 124              	CONSOLE_ClearScreen:
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		@ link register save eliminated.
 128 0000 0148     		ldr	r0, .L23
 129 0002 FFF7FEBF 		b	CONSOLE_Print
 130              	.L24:
 131 0006 00BF     		.align	2
 132              	.L23:
 133 0008 00000000 		.word	.LC1
 135              		.section	.bss._console_usart,"aw",%nobits
 136              		.align	2
 137              		.set	.LANCHOR0,. + 0
 140              	_console_usart:
 141 0000 00000000 		.space	4
 142              		.ident	"GCC: (GNU Tools for Arm Embedded Processors 9-2019-q4-major) 9.2.1 20191025 (release) [ARM
ARM GAS  /tmp/cc8Tb1Pe.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 console.c
     /tmp/cc8Tb1Pe.s:14     .text.CONSOLE_Init:0000000000000000 $t
     /tmp/cc8Tb1Pe.s:22     .text.CONSOLE_Init:0000000000000000 CONSOLE_Init
     /tmp/cc8Tb1Pe.s:34     .text.CONSOLE_Init:0000000000000008 $d
     /tmp/cc8Tb1Pe.s:37     .text.CONSOLE_Print:0000000000000000 $t
     /tmp/cc8Tb1Pe.s:44     .text.CONSOLE_Print:0000000000000000 CONSOLE_Print
     /tmp/cc8Tb1Pe.s:79     .text.CONSOLE_Print:0000000000000044 $d
     /tmp/cc8Tb1Pe.s:85     .text.CONSOLE_PrintLn:0000000000000000 $t
     /tmp/cc8Tb1Pe.s:92     .text.CONSOLE_PrintLn:0000000000000000 CONSOLE_PrintLn
     /tmp/cc8Tb1Pe.s:111    .text.CONSOLE_PrintLn:0000000000000020 $d
     /tmp/cc8Tb1Pe.s:117    .text.CONSOLE_ClearScreen:0000000000000000 $t
     /tmp/cc8Tb1Pe.s:124    .text.CONSOLE_ClearScreen:0000000000000000 CONSOLE_ClearScreen
     /tmp/cc8Tb1Pe.s:133    .text.CONSOLE_ClearScreen:0000000000000008 $d
     /tmp/cc8Tb1Pe.s:136    .bss._console_usart:0000000000000000 $d
     /tmp/cc8Tb1Pe.s:140    .bss._console_usart:0000000000000000 _console_usart

UNDEFINED SYMBOLS
strlen
malloc
vsprintf
HAL_UART_Transmit
free
